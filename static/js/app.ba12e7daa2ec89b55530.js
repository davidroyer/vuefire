webpackJsonp([2,0],{0:function(t,e,n){(function(t){"use strict";function e(t){return t&&t.__esModule?t:{default:t}}function o(t,e,n){k.authorized?n():n({path:"/login",query:{redirect:t.fullPath}})}var a=n(3),s=e(a),i=n(75),r=e(i),u=n(83),l=e(u),d=n(84),c=e(d),f=n(8),p=n(74),v=e(p);n(65);var m=n(53),h=e(m);n(64);var g=n(76),_=e(g),y=n(77),b=e(y),w=n(78),P=e(w);s.default.use(v.default),s.default.use(c.default),s.default.use(h.default),s.default.use(l.default);var k=f.store.state,R=new l.default({mode:"history",base:t,routes:[{path:"/dashboard",component:_.default,beforeEnter:o},{path:"/login",component:b.default},{path:"/logout",component:P.default}]});new s.default({el:"#app",router:R,render:function(t){return t(r.default)},data:{sharedStore:f.store}})}).call(e,"/")},8:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0});e.store={state:{authorized:null},logUserIn:function(){this.state.authorized=!0},logUserOut:function(){this.state.authorized=!1}}},45:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var o=n(8),a={apiKey:"AIzaSyCNIjlw4gVqGQgSr6pvcHqmWK4eA1KnTyk",authDomain:"vue-firebase-e123d.firebaseapp.com",databaseURL:"https://vue-firebase-e123d.firebaseio.com",storageBucket:"vue-firebase-e123d.appspot.com",messagingSenderId:"121034532316"},s=n(21),i=(s.initializeApp(a),s.auth());e.default={name:"app",components:{},data:function(){return{authorized:!1,email:"droyer01@gmail.com",password:"Dance4life",posts:[],photo:null,sharedState:o.store.state}},firebase:{},created:function(){this.getPosts(),this.authCheck()},mounted:function(){},methods:{handleClick:function(){alert("click")},login:function(){var t=this.email,e=this.password;console.log("worked"),i.signInWithEmailAndPassword(t,e).catch(function(t){t.code,t.message})},logout:function(){i.signOut().then(function(){},function(t){})},signup:function(){i.createUserWithEmailAndPassword(email,password).catch(function(t){t.code,t.message})},authCheck:function(){var t=this;i.onAuthStateChanged(function(e){e?(console.log("signed in"),t.authorized=!0,o.store.logUserIn()):(console.log("signed out"),o.store.logUserOut(),t.authorized=!1)})},getPosts:function(){}}}},46:function(t,e,n){"use strict";function o(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var a=n(8),s=n(21),i=o(s),r=i.default.database(),u=(r.ref("users"),r.ref("posts"));e.default={data:function(){return{authorized:!0,email:"droyer01@gmail.com",password:"Dance4life",photo:null,sharedStore:a.store,edit:null,uploadProgress:0,newImageURL:null}},firebase:{dbPosts:u},methods:{handleEditClick:function(t){var e=t;this.edit=e,console.log(t)},canceEdit:function(){this.edit=null},handleUpload:function(t){var e=this,n=t.target.files[0],o=i.default.storage().ref("folder1/"+n.name),a=o.put(n);a.on("state_changed",function(t){e.uploadProgress=Math.round(t.bytesTransferred/t.totalBytes*100)},function(t){console.log(t)},function(){console.log(a.snapshot.downloadURL),e.newImageURL=a.snapshot.downloadURL})},addPost:function(){u.push({title:"My Pushed Title 4",content:"my post content 4"})},updatePost:function(t){var e=t.title,n=t.content,o=this;u.child(t[".key"]).set({title:e,content:n},function(t){t?o.$message.error("Oops, this is a error message."):o.$message({message:"Congrats, this is a success message.",type:"success"})})},getPosts:function(){}}}},47:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},48:function(t,e){"use strict";Object.defineProperty(e,"__esModule",{value:!0}),e.default={}},64:function(t,e){},65:function(t,e){},66:function(t,e){},67:function(t,e){},68:function(t,e){},69:function(t,e){},75:function(t,e,n){var o,a;n(66),o=n(45);var s=n(79);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=s.render,a.staticRenderFns=s.staticRenderFns,t.exports=o},76:function(t,e,n){var o,a;n(67),o=n(46);var s=n(80);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=s.render,a.staticRenderFns=s.staticRenderFns,t.exports=o},77:function(t,e,n){var o,a;n(69),o=n(47);var s=n(82);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=s.render,a.staticRenderFns=s.staticRenderFns,t.exports=o},78:function(t,e,n){var o,a;n(68),o=n(48);var s=n(81);a=o=o||{},"object"!=typeof o.default&&"function"!=typeof o.default||(a=o=o.default),"function"==typeof a&&(a=a.options),a.render=s.render,a.staticRenderFns=s.staticRenderFns,t.exports=o},79:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"app"}},[n("transition-group",{attrs:{name:"slide",mode:"in-out"}},[t.sharedState.authorized?n("div",{key:t.logout,staticClass:"wrapper"},[n("el-button",{attrs:{type:"primary"},on:{click:t.logout}},[t._v("Logout")])],1):n("div",{key:t.login,staticClass:"wrapper"},[n("el-button",{attrs:{type:"primary"},on:{click:t.login}},[t._v("Login")]),t._v(" "),n("el-button",{attrs:{type:"primary"},on:{click:t.signup}},[t._v("Signup")])],1)]),t._v(" "),n("ul",[n("li",[n("router-link",{attrs:{to:"/logout"}},[t._v("Log out")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/login"}},[t._v("Log in")])],1),t._v(" "),n("li",[n("router-link",{attrs:{to:"/dashboard"}},[t._v("Dashboard")])],1)]),t._v(" "),n("transition",{attrs:{name:"fade",mode:"out-in"}},[n("router-view",{staticClass:"view"})],1)],1)},staticRenderFns:[]}},80:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"dashboard"},[n("h1",[t._v("Dashboard is here")]),t._v(" "),n("label",[t._v("\n      Email\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.email,expression:"email"}],attrs:{type:"text"},domProps:{value:t._s(t.email)},on:{input:function(e){e.target.composing||(t.email=e.target.value)}}})]),t._v(" "),n("label",[t._v("\n      Password\n      "),n("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],attrs:{type:"text"},domProps:{value:t._s(t.password)},on:{input:function(e){e.target.composing||(t.password=e.target.value)}}})]),t._v(" "),n("button",{attrs:{type:"button",name:"button"},on:{click:t.addPost}},[t._v("\n    Add Post")]),t._v(" "),t.newImageURL?n("img",{attrs:{src:t.newImageURL,alt:""}}):t._e(),t._v(" "),n("label",[t._v("Upload Photo"),n("input",{attrs:{type:"file",name:""},on:{change:function(e){t.handleUpload(e)}}})]),t._v(" "),n("el-progress",{attrs:{"text-inside":!0,"stroke-width":18,percentage:t.uploadProgress}}),t._v(" "),n("div",{directives:[{name:"show",rawName:"v-show",value:t.authorized,expression:"authorized"}],staticClass:"restricted"},[n("ul",{staticClass:"post__list"},t._l(t.dbPosts,function(e){return n("li",{key:e[".key"],staticClass:"post__item"},[n("h3",{domProps:{textContent:t._s(e.title)}}),t._v(" "),n("div",{domProps:{innerHTML:t._s(e.content)}}),t._v(" "),n("el-button-group",{staticClass:"post__button-group"},[n("el-button",{attrs:{type:"primary",icon:"edit"},on:{click:function(n){t.handleEditClick(e)}}}),t._v(" "),n("el-button",{attrs:{type:"primary",icon:"delete"}})],1)],1)})),t._v(" "),n("transition",{attrs:{name:"fade",appear:""}},[t.edit?n("div",{staticClass:"editPost"},[n("el-input",{directives:[{name:"model",rawName:"v-model",value:t.edit.title,expression:"edit.title"}],domProps:{value:t.edit.title},on:{input:function(e){t.edit.title=e}}}),t._v(" "),n("el-input",{directives:[{name:"model",rawName:"v-model",value:t.edit.content,expression:"edit.content"}],attrs:{type:"textarea",autosize:{minRows:8,maxRows:20},placeholder:"Please input"},domProps:{value:t.edit.content},on:{input:function(e){t.edit.content=e}}}),t._v(" "),n("el-button-group",[n("el-button",{attrs:{type:"primary",icon:"circle-check"},on:{click:function(e){t.updatePost(t.edit)}}},[t._v("Save")]),t._v(" "),n("el-button",{attrs:{type:"warning",icon:"circle-close"},on:{click:t.canceEdit}},[t._v("Cancel")])],1)],1):t._e()])],1)],1)},staticRenderFns:[]}},81:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("\n  Logout\n")])},staticRenderFns:[]}},82:function(t,e){t.exports={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("h1",[t._v("\n  Login\n")])},staticRenderFns:[]}}});
//# sourceMappingURL=app.ba12e7daa2ec89b55530.js.map